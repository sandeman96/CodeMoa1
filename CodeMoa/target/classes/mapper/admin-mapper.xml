<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminMapper">
	
	<!-- 보드 관련 쿼리 -->
	
	<select id="selectBoard" resultMap="boardResultSet">
		select b_no, b_title, b_content, b_date, b_status, b_writer, b_type
		from board
		 order by b_no desc
	</select>
	
	<resultMap type="Board" id="boardResultSet">
		<id column="B_NO" property="bNo"/>
		<result column="B_TYPE" property="bType"/>
		<result column="B_TITLE" property="bTitle"/>
		<result column="B_CONTENT" property="bContent"/>
		<result column="B_DATE" property="bDate"/>
		<result column="B_COUNT" property="bCount"/>
		<result column="B_STATUS" property="bStatus"/>
		<result column="B_FIRST" property="bFirst"/>
		<result column="B_WRITER" property="bWriter"/>
	</resultMap>
	
	<select id="getListCount" resultType="_int">
		select count(*)
		from board
		where b_status='Y'
	</select>
	
	<select id="selectList" resultType="_int">
		select count(*)
		from board
	</select>
	
	<!-- 맴버관련 쿼리 , parameterType="Member" resultType="Member"-->
	
	<select id="selectMember" resultMap="memberResultSet">
		select m_email, m_pwd, m_name, m_nick, m_status, m_admin
		from member
		order by m_email desc
	</select>	
	
	<resultMap type="Member" id="memberResultSet">
		<id column="M_EMAIL" property="email"/>
		<result column="M_PWD" property="pwd"/>
		<result column="M_NAME" property="name"/>
		<result column="M_NICK" property="nickName"/>
		<result column="M_STATUS" property="status"/>
		<result column="M_ADMIN" property="admin"/>
		<result column="M_EDU" property="education"/>
		<result column="M_LOCATION" property="location"/>
		<result column="M_SKILL" property="skill"/>
		<result column="M_NOTE" property="note"/>
	</resultMap>
	
	<select id="getMemberCount" resultType="_int">
		select count(*)
		from member
	</select>
	
	<select id="getOutMemberCount" resultType="_int">
		select count(*)
		from member
		where m_status ='N'
	</select>
	
</mapper>
